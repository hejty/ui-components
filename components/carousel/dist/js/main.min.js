!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){(function(e){t.exports=e.Carousel=i(3)}).call(e,function(){return this}())},,,function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e){var n=e.element,s=e.slideChangeCallback,r=void 0===s?null:s;i(this,t),this.root=n,this.slider=this.root.querySelector(".buic-carousel__slider"),this._slideChangeCallback=r,this.slidesLength=this.slider.children.length,this.slider.style.width=100*this.slidesLength+"%",this._updateSlideWidth(),this.currentIndex=1,this.lastSlideTranslateX=0,this.currentSlideTranslateX=0,this.isDragged=!1,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onEnd=this._onEnd.bind(this),this._update=this._update.bind(this),this.enableDragging(),window.addEventListener("resize",this._onResize.bind(this))}return n(t,[{key:"next",value:function(){this._isLastSlide()||this.goTo(this.currentIndex+1)}},{key:"prev",value:function(){this._isFirstSlide()||this.goTo(this.currentIndex-1)}},{key:"goTo",value:function(t){this.isDragged||(t!==this.currentIndex&&"function"==typeof this._slideChangeCallback&&this._slideChangeCallback(this,t),this.currentIndex=t,this.slider.style.transform="translateX("+-(this.currentIndex-1)*this.slideWidth+"px)",this.lastSlideTranslateX=this.slideWidth*(this.currentIndex-1))}},{key:"enableDragging",value:function(){this.root.addEventListener("touchstart",this._onStart),this.root.addEventListener("touchmove",this._onMove),this.root.addEventListener("touchend",this._onEnd),this.root.addEventListener("touchcancel",this._onEnd),this.root.addEventListener("mousedown",this._onStart),this.root.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onEnd)}},{key:"disableDragging",value:function(){this._onEnd(),this.root.removeEventListener("touchstart",this._onStart),this.root.removeEventListener("touchmove",this._onMove),this.root.removeEventListener("touchend",this._onEnd),this.root.removeEventListener("touchcancel",this._onEnd),this.root.removeEventListener("mousedown",this._onStart),this.root.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onEnd)}},{key:"_onStart",value:function(t){this.startX=t.pageX||t.touches[0].pageX,this.currentX=this.startX,this.isDragged=!0,this.rafId=requestAnimationFrame(this._update)}},{key:"_onMove",value:function(t){void 0!==t.pageX?this.currentX=t.pageX:this.currentX=t.touches[0].pageX,t.preventDefault()}},{key:"_onEnd",value:function(){if(this.isDragged){this.slider.style.transition="";var t=Math.round(-this.currentSlideTranslateX/this.slideWidth)+1;t=Math.max(1,t),t=Math.min(t,this.slidesLength),this.isDragged=!1,this.goTo(t),this.rafId&&cancelAnimationFrame(this.rafId)}}},{key:"_update",value:function(){this.rafId=requestAnimationFrame(this._update);var t=this.currentX-this.startX;this.currentSlideTranslateX=t-this.lastSlideTranslateX,this.slider.style.transition="initial",this.slider.style.transform="translateX("+this.currentSlideTranslateX+"px)"}},{key:"_updateSlideWidth",value:function(){this.slideWidth=this.slider.getBoundingClientRect().width/this.slidesLength}},{key:"_isLastSlide",value:function(){return this.currentIndex===this.slidesLength}},{key:"_isFirstSlide",value:function(){return 1===this.currentIndex}},{key:"_onResize",value:function(){var t=this.slideWidth;this._updateSlideWidth(),t!==this.slideWidth&&this.goTo(this.currentIndex)}}]),t}();e.default=s,t.exports=e.default}]);